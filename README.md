# Upload Multiqc v1.0

## What does this app do?
Upload a MultiQC HTML report file to the Viapath Genome Informatics Server

## What are typical use cases for this app?
On completion of a sequencing run, this app is makes a given MultiQC report available to Viapath staff by uploading it to a web server.

## What inputs are required for this app to run?
An HTML file generated by multiqc

## What does this app output?
- old_index.html: The HTML file replaced on the server by an instance of this app
- new_index.html: The HTMl file generated and served by an instance of this app

## How does this app work?
The app has the following protocol:
- Download the given MultiQC HTML input
- Copy to the expected location on the server. MultiQC reports are contained in '/var/www/html/mokaguys/multiqc/reports'. The `rsync` command, used to perform the copy, contains a checksum protocol to verify data integrity.
- Update the server's index.html file with a link to the new multiqc report. The script 'update_index.py' in the 'resources' section of this application generates a new index using the Jinja2 module. HTML reports in the new index are presented in chronological order.

Note: In order to connect to the server, this application requires SSH keys. For privacy, these files are not included in the github repository for this app (see .gitignore).

*Developed by Viapath Genome Informatics*
